define(["Tone/core/Tone","Tone/core/Timeline","Tone/core/Type"],function(Tone){"use strict";Tone.TimelineState=function(initial){Tone.Timeline.call(this);this._initial=initial};Tone.extend(Tone.TimelineState,Tone.Timeline);Tone.TimelineState.prototype.getStateAtTime=function(time){var event=this.getEvent(time);if(event!==null){return event.state}else{return this._initial}};Tone.TimelineState.prototype.setStateAtTime=function(state,time){this.addEvent({"state":state,"time":this.toSeconds(time)})};return Tone.TimelineState})