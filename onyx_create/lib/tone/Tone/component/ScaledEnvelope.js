define(["Tone/core/Tone","Tone/component/Envelope","Tone/signal/Scale"],function(Tone){"use strict";Tone.ScaledEnvelope=function(){var options=this.optionsObject(arguments,["attack","decay","sustain","release"],Tone.Envelope.defaults);Tone.Envelope.call(this,options);options=this.defaultArg(options,Tone.ScaledEnvelope.defaults);this._exp=this.output=new Tone.Pow(options.exponent);this._scale=this.output=new Tone.Scale(options.min,options.max);this._sig.chain(this._exp,this._scale)};Tone.extend(Tone.ScaledEnvelope,Tone.Envelope);Tone.ScaledEnvelope.defaults={"min":0,"max":1,"exponent":1};Object.defineProperty(Tone.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(min){this._scale.min=min}});Object.defineProperty(Tone.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(max){this._scale.max=max}});Object.defineProperty(Tone.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(exp){this._exp.value=exp}});Tone.ScaledEnvelope.prototype.dispose=function(){Tone.Envelope.prototype.dispose.call(this);this._scale.dispose();this._scale=null;this._exp.dispose();this._exp=null;return this};return Tone.ScaledEnvelope})